(this.webpackJsonpfintrack=this.webpackJsonpfintrack||[]).push([[0],{118:function(e,a,t){},119:function(e,a,t){},156:function(e,a,t){e.exports=t(189)},161:function(e,a,t){},185:function(e,a,t){},186:function(e,a,t){e.exports=t.p+"static/media/profile_image.820cb793.png"},188:function(e,a,t){},189:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(18),i=t.n(l),c=t(12),o=t(10),s=t(15),m=t(16),u=t(17),d=(t(161),t(51)),p=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("h1",null,"HomePage")}}]),a}(n.Component),h=t(6),g=t(241),f=t(52);function E(e){return r.a.createElement(f.a,{component:"h1",variant:"h2",color:"primary",gutterBottom:!0},e.children)}var b=t(259),v=t(260),y=t(257),x=t(258),j=t(255),O=t(256),w=t(277),C=t(136),k=t(190),S=t(135),N=t(272),_=t(253),D=t(254),P=t(124),I=t.n(P),T=t(123),W=t.n(T),A=t(122),B=t.n(A),M=t(4),q=t(252),F=t(270),R=t(249),H=t(77),z=t(245),L=t(244),Y=t(200),V=t(194),U=t(197),G=t(64),J=t.n(G),K=t(65),$=t.n(K),Q=t(246),X=t(251),Z=t(273),ee=t(250),ae=t(199),te=new(function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,[{key:"isValidDollar",value:function(e){if(isNaN(e))return!1;var a=e.split(".");return!(a.length>2)&&(1===a.length||a[1].length<=2)}}]),e}()),ne=new(function(){function e(){Object(c.a)(this,e),this.months=["January","February","March","April","May","June","July","August","September","October","November","December"]}return Object(o.a)(e,[{key:"formatToDollars",value:function(e){e||(e=0),e=e.toFixed(2);for(var a=String(e),t=".".concat(a[a.length-2].concat(a[a.length-1])),n=a.length-4;n>=0;n--){var r=a.length-4-n;0!==r&&r%3===0&&(t=",".concat(t)),t=a[n].concat(t)}return"$".concat(t)}},{key:"formatWord",value:function(e){return e.charAt(0).toUpperCase()+e.substring(1)}},{key:"formatDate",value:function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r="";return a&&(r=r.concat(this.months[e.getMonth()])),t&&(r=r.concat(" ",e.getDate())),n&&(r=r.concat(", ",e.getFullYear())),r}},{key:"formatTime",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r="";return a&&(r=r.concat(e.getHours())),t&&(r=r.concat(":",e.getMinutes())),n&&(r=r.concat(":",e.getSeconds())),r}},{key:"getCurrentMonth",value:function(){return this.months[(new Date).getMonth()]}},{key:"getFirstDayOfMonth",value:function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),1)}},{key:"formatDateAPI",value:function(e){var a="";return e.getMonth()+1<10&&(a=a.concat("0")),a=a.concat(e.getMonth()+1,"/"),e.getDate()<10&&(a=a.concat("0")),(a=a.concat(e.getDate(),"/")).concat(e.getFullYear())}}]),e}()),re=["Home","Food","Entertainment","Travel","Miscellaneous"],le=t(195),ie=t(268),ce=t(243),oe=t(13),se=t.n(oe),me=t(24),ue=t(269),de=Object(g.a)((function(e){return{form:{width:"100%"},formControl:{margin:e.spacing(1),minWidth:150},gridWidth:{width:"80%"},desbox:{width:"100%"},save_cancel:{marginTop:"10px"},loading:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}})),pe=Object(M.a)({paperWidthSm:{maxWidth:"60%"},paper:{height:"650px"}})(F.a),he=Object(M.a)({switchBase:{color:"green"},checked:{color:"red"}})(Z.a);function ge(e){var a=de(),t=e.onClose,n=e.open,l=e.onAdd,i=r.a.useState(new Date),c=Object(h.a)(i,2),o=c[0],s=c[1],m=r.a.useState(""),u=Object(h.a)(m,2),d=u[0],p=u[1],g=r.a.useState(""),f=Object(h.a)(g,2),E=f[0],b=f[1],v=r.a.useState(""),y=Object(h.a)(v,2),x=y[0],j=y[1],O=r.a.useState(!0),w=Object(h.a)(O,2),C=w[0],k=w[1],S=r.a.useState(""),_=Object(h.a)(S,2),D=_[0],P=_[1],I=r.a.useState(!1),T=Object(h.a)(I,2),W=T[0],A=T[1],B=r.a.useState(!1),M=Object(h.a)(B,2),F=M[0],G=M[1],K=r.a.useState(!1),Z=Object(h.a)(K,2),re=Z[0],oe=Z[1],ge=r.a.useState(!1),fe=Object(h.a)(ge,2),Ee=fe[0],be=fe[1],ve=r.a.useState(""),ye=Object(h.a)(ve,2),xe=ye[0],je=ye[1],Oe=r.a.useState(!!e.id),we=Object(h.a)(Oe,2),Ce=we[0],ke=we[1];r.a.useEffect((function(){e.id&&n&&Ce&&se.a.get("/api/expense/".concat(e.id),{}).then((function(e){200===e.status&&(s(new Date(e.data.date)),p(ne.formatWord(e.data.category)),b(ne.formatWord(e.data.payment_type)),j(e.data.description),k("income"!==e.data.type),P(e.data.amount),ke(!1))})).catch((function(e){console.log("Error: ",e.response),je({error:e.response.data.error})}))}),[n,Ce,e.id]);var Se=function(){p(""),b(""),j(""),P(""),je(""),A(!1),G(!1),oe(!1),be(!1),ke(!!e.id),t("")},Ne=Ce?r.a.createElement("div",{className:a.loading},r.a.createElement(ce.a,null)):r.a.createElement("form",{className:a.form},r.a.createElement(L.a,{maxWidth:"lg"},r.a.createElement(z.a,{container:!0,spacing:3,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(z.a,{xs:12,className:a.gridWidth,item:!0},r.a.createElement(me.a,{utils:H.a},r.a.createElement(ue.a,{disableToolbar:!0,variant:"inline",format:"MM/DD/YYYY",margin:"normal",id:"expense_date",label:"Date of expense",value:o,onChange:function(e){s(new Date(e._d))},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(z.a,{xs:12,className:a.gridWidth,item:!0},r.a.createElement(V.a,{required:!0,className:a.formControl},r.a.createElement(Y.a,{id:"category_in"},"Category"),r.a.createElement(U.a,{error:F,labelId:"category_label",id:"category",value:d,onChange:function(e){p(e.target.value),G(!1)}},r.a.createElement(N.a,{value:"Home"},"Home"),r.a.createElement(N.a,{value:"Food"},"Food"),r.a.createElement(N.a,{value:"Entertainment"},"Entertainment"),r.a.createElement(N.a,{value:"Travel"},"Travel"),r.a.createElement(N.a,{value:"Miscellaneous"},"Miscellaneous")),F?r.a.createElement(le.a,null,"Field is Required"):""),r.a.createElement(V.a,{required:!0,className:a.formControl},r.a.createElement(Y.a,{id:"payment_in"},"Payment Type"),r.a.createElement(U.a,{error:re,labelId:"payment_label",id:"payment",value:E,onChange:function(e){b(e.target.value),oe(!1)}},r.a.createElement(N.a,{value:"Credit"},"Credit"),r.a.createElement(N.a,{value:"Debit"},"Debit"),r.a.createElement(N.a,{value:"Cash"},"Cash")),re?r.a.createElement(le.a,null,"Field is Required"):"")),r.a.createElement(z.a,{xs:12,className:a.gridWidth,item:!0},r.a.createElement(V.a,{required:!0,className:a.desbox},r.a.createElement(R.a,{error:Ee,id:"description",label:"Description",variant:"outlined",value:x,onChange:function(e){j(e.target.value),be(!1)}}),Ee?r.a.createElement(le.a,null,"Field is Required"):"")),r.a.createElement(z.a,{className:a.gridWidth,item:!0},r.a.createElement(X.a,{control:r.a.createElement(he,{checked:C,onChange:function(e){k(e.target.checked)}}),label:C?"Expense":"Income"})),r.a.createElement(z.a,{xs:12,className:a.gridWidth,item:!0},r.a.createElement(V.a,{required:!0,className:a.desbox},r.a.createElement(Y.a,{htmlFor:"outlined-adornment-amount"},"Amount"),r.a.createElement(ae.a,{error:W,id:"amount",value:D,onChange:function(e){te.isValidDollar(e.target.value)&&P(e.target.value),A(!1)},startAdornment:r.a.createElement(ee.a,{position:"start"},"$"),labelWidth:60}),W?r.a.createElement(le.a,null,"Field is Required"):"")),r.a.createElement(z.a,{className:a.save_cancel,container:!0,spacing:3,justify:"center"},r.a.createElement(z.a,{item:!0},r.a.createElement(Q.a,{variant:"contained",color:"primary",className:a.button,startIcon:r.a.createElement(J.a,null),onClick:function(){je("");var a=!1;if(d||(G(!0),a=!0),E||(oe(!0),a=!0),x||(be(!0),a=!0),D||(A(!0),a=!0),a)return null;var t={date:o?ne.formatDateAPI(o):ne.formatDateAPI(new Date),username:e.user,category:d.toLowerCase(),payment_type:E.toLowerCase(),amount:D,description:x,type:C?"expense":"income"};ke(!0),se.a.post("/api/expense",t).then((function(e){200===e.status&&(Se(),l())})).catch((function(e){console.log("Error: ",e.response),je({error:e.response.data.error})}))}},"Save")),r.a.createElement(z.a,{item:!0},r.a.createElement(Q.a,{variant:"contained",color:"secondary",className:a.button,startIcon:r.a.createElement($.a,null),onClick:Se},"Cancel"))))));return r.a.createElement(pe,{disableBackdropClick:!0,onClose:Se,maxWidth:"sm","aria-labelledby":"simple-dialog-title",fullWidth:!0,open:n},r.a.createElement(q.a,{id:"simple-dialog-title"},"Add an Expense"),Ne,r.a.createElement(ie.a,{mt:1},xe))}var fe=Object(M.a)({paper:{height:"70px",width:"70px"}})(F.a),Ee=Object(g.a)((function(){return{loading:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}}));function be(e){var a=e.onAdd,t=r.a.useState(null),n=Object(h.a)(t,2),l=n[0],i=n[1],c=Boolean(l),o=r.a.useState(!1),s=Object(h.a)(o,2),m=s[0],u=s[1],p=r.a.useState(!1),g=Object(h.a)(p,2),f=g[0],E=g[1],b=Ee(),v=function(){i(null)};return r.a.createElement("div",null,r.a.createElement(k.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}},r.a.createElement(B.a,null)),r.a.createElement(S.a,{id:"long-menu",anchorEl:l,keepMounted:!0,open:c,onClose:v,PaperProps:{style:{maxHeight:216,width:200}}},r.a.createElement(N.a,{key:"delete",onClick:function(){E(!0),se.a.delete("/api/expense/".concat(e.id),{}).then((function(e){200===e.status&&(E(!1),v(),a())})).catch((function(e){console.log("Error",e.response)}))}},r.a.createElement(_.a,null,r.a.createElement(W.a,{fontSize:"small"})),r.a.createElement(D.a,{primary:"Delete"})),r.a.createElement(N.a,{key:"edit",onClick:function(){v(),u(!0)}},r.a.createElement(_.a,null,r.a.createElement(I.a,{fontSize:"small"})),r.a.createElement(D.a,{primary:"Edit"}))),r.a.createElement(ge,{id:e.id,user:e.user,open:m,onClose:function(e){return u(!1),r.a.createElement(d.a,{to:"/expenses"})},onAdd:a}),r.a.createElement(fe,{disableBackdropClick:!0,open:f},r.a.createElement("div",{className:b.loading},r.a.createElement(ce.a,null))))}var ve=t(125),ye=t.n(ve),xe=t(126),je=t.n(xe),Oe=Object(g.a)((function(e){return{mainContainer:{width:"100%",minHeight:"52px",display:"flex",flexDirection:"row"},rowLabel:{marginLeft:"auto",flexShrink:"0",marginRight:"10px"},rowSelecor:{flexShrink:"0",marginLeft:"8px",marginRight:"10px",display:"flex",alignItems:"center",justifyContent:"center"},pageNumber:{flexShrink:"0",marginLeft:"5px"},prevPage:{marginLeft:"10px",padding:"12px"},nextPage:{padding:"12px"}}}));function we(e){var a=e.rowsPerPageOptions,t=e.rowsPerPage,n=e.page,l=e.onChangePage,i=e.maxPage,c=e.onChangeRowsPerPage,o=Oe();return r.a.createElement("div",{className:o.mainContainer},r.a.createElement("p",{className:o.rowLabel},"Rows per page:"),r.a.createElement("div",{className:o.rowSelecor},r.a.createElement(U.a,{labelId:"demo-simple-select-label",id:"num-row-select",value:t,onChange:c},a.map((function(e,a){return r.a.createElement(N.a,{key:a,value:e},e)})))),r.a.createElement("p",{className:o.pageNumber},"-",n+1,"-"),r.a.createElement(k.a,{"aria-label":"prev",className:o.prevPage,disabled:0===n,size:"small",onClick:function(e){0!==n&&l(e,n-1)}},r.a.createElement(ye.a,null)),r.a.createElement(k.a,{"aria-label":"next",className:o.nextPage,disabled:n>=i,size:"small",onClick:function(e){n<i&&l(e,n+1)}},r.a.createElement(je.a,null)))}var Ce=t(274),ke=t(97),Se=t.n(ke);function Ne(e,a,t){return a[t]<e[t]?-1:a[t]>e[t]?1:0}var _e=[{id:"income_expense_flag",numeric:!1,disablePadding:!0,label:""},{id:"date",numeric:!1,disablePadding:!1,label:"Date"},{id:"description",numeric:!1,disablePadding:!1,label:"Description"},{id:"category",numeric:!1,disablePadding:!1,label:"Category"},{id:"payment",numeric:!0,disablePadding:!1,label:"Payment Type"},{id:"amount",numeric:!0,disablePadding:!1,label:"Amount"},{id:"action",numeric:!0,disablePadding:!1,label:"Actions"}];function De(e){var a=e.classes,t=e.order,n=e.orderBy,l=e.onRequestSort;return r.a.createElement(j.a,null,r.a.createElement(O.a,null,_e.map((function(e){return r.a.createElement(y.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&t},"date"===e.id||"amount"===e.id?r.a.createElement(w.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(i=e.id,function(e){l(e,i)})},e.label,n===e.id?r.a.createElement("span",{className:a.visuallyHidden},"desc"===t?"sorted descending":"sorted ascending"):null):e.label);var i}))))}var Pe=Object(g.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Ie(e){var a=e.rows,t=e.onAdd,n=Pe(),l=r.a.useState("asc"),i=Object(h.a)(l,2),c=i[0],o=i[1],s=r.a.useState("calories"),m=Object(h.a)(s,2),u=m[0],d=m[1],p=r.a.useState(0),g=Object(h.a)(p,2),f=g[0],E=g[1],j=r.a.useState(5),w=Object(h.a)(j,2),k=w[0],S=w[1],N=function(){t()};return r.a.createElement("div",{className:n.root},r.a.createElement(C.a,{className:n.paper},r.a.createElement(x.a,null,r.a.createElement(b.a,{className:n.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},r.a.createElement("colgroup",null,r.a.createElement("col",{style:{width:"5%"}}),r.a.createElement("col",{style:{width:"25%"}}),r.a.createElement("col",{style:{width:"40%"}}),r.a.createElement("col",{style:{width:"10%"}}),r.a.createElement("col",{style:{width:"10%"}}),r.a.createElement("col",{style:{width:"10%"}}),r.a.createElement("col",{style:{width:"10%"}})),r.a.createElement(De,{classes:n,order:c,orderBy:u,onRequestSort:function(e,a){o(u===a&&"asc"===c?"desc":"asc"),d(a)}}),r.a.createElement(v.a,null,function(e,a){var t=e.map((function(e,a){return[e,a]}));return t.sort((function(e,t){var n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t.map((function(e){return e[0]}))}(a,function(e,a){return"desc"===e?function(e,t){return Ne(e,t,a)}:function(e,t){return-Ne(e,t,a)}}(c,u)).slice(f*k,f*k+k).map((function(a,t){var n="enhanced-table-checkbox-".concat(t);return r.a.createElement(O.a,{hover:!0,tabIndex:-1,key:t},r.a.createElement(y.a,{align:"center"},a.isExpense?r.a.createElement(Ce.a,{title:"Expense",placement:"top"},r.a.createElement(Se.a,{style:{color:"red"}})):r.a.createElement(Ce.a,{title:"Income",placement:"top"},r.a.createElement(Se.a,{style:{color:"green"}}))),r.a.createElement(y.a,{component:"th",id:n,scope:"row"},ne.formatDate(a.date)),r.a.createElement(y.a,{align:"left"},a.description),r.a.createElement(y.a,{align:"right"},a.category),r.a.createElement(y.a,{align:"right"},a.payment_type),r.a.createElement(y.a,{align:"right"},ne.formatToDollars(a.amount)),r.a.createElement(y.a,{align:"right"},r.a.createElement(be,{user:e.user,id:a.id,onAdd:N})))}))))),r.a.createElement(we,{rowsPerPageOptions:[5,10,25],rowsPerPage:k,page:f,maxPage:Math.floor((a.length-1)/k),onChangePage:function(e,a){E(a)},onChangeRowsPerPage:function(e){S(parseInt(e.target.value,10)),E(0)}})))}var Te=t(129),We=t.n(Te),Ae=t(271),Be=t(262),Me=t(261),qe=t(264),Fe=t(128),Re=t.n(Fe),He=t(263),ze=t(276),Le=t(192),Ye=Object(g.a)((function(e){return{root:{width:"90%",margin:"20px"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},details:{alignItems:"center"},column:{flexBasis:"33.33%"},date:{margin:"0px 10px"},mainContainer:{display:"flex",flexDirection:"column",width:"100%"},flexRow:{margin:"5px",padding:"5px"},dateClass:{display:"flex",flexDirection:"row"},categoryForm:{minWidth:"150px"}}})),Ve={PaperProps:{style:{maxHeight:224,width:250}}};function Ue(e){var a=e.onSubmit,t=r.a.useState(!1),n=Object(h.a)(t,2),l=n[0],i=n[1],c=r.a.useState(ne.getFirstDayOfMonth),o=Object(h.a)(c,2),s=o[0],m=o[1],u=r.a.useState(new Date),d=Object(h.a)(u,2),p=d[0],g=d[1],E=r.a.useState([]),b=Object(h.a)(E,2),v=b[0],y=b[1],x=r.a.useState([]),j=Object(h.a)(x,2),O=j[0],w=j[1],C=r.a.useState("all"),k=Object(h.a)(C,2),S=k[0],_=k[1],D=Ye(),P=function(){i(!l)};return r.a.createElement("div",{className:D.root},r.a.createElement(Ae.a,{expanded:l},r.a.createElement(Me.a,{expandIcon:r.a.createElement(Re.a,null),"aria-controls":"panel1c-content",id:"panel1c-header",onClick:P},r.a.createElement("div",{className:D.column},r.a.createElement(f.a,{className:D.heading},"Search")),r.a.createElement("div",{className:D.column},r.a.createElement(f.a,{className:D.secondaryHeading},"Filter Expenses"))),r.a.createElement(Be.a,{className:D.details},r.a.createElement("div",{className:D.mainContainer},r.a.createElement("div",{className:D.dateClass},r.a.createElement(me.a,{utils:H.a},r.a.createElement(ue.a,{disableToolbar:!0,variant:"inline",format:"MM/DD/YYYY",margin:"normal",id:"expense_start_date",label:"Start Date",value:s,onChange:function(e){return m(new Date(e._d))},className:D.date,KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(ue.a,{disableToolbar:!0,variant:"inline",format:"MM/DD/YYYY",margin:"normal",id:"expense_end_date",label:"End Date",value:p,onChange:function(e){return g(new Date(e._d))},className:D.date,KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement("div",{className:D.flexRow},r.a.createElement(V.a,{className:D.categoryForm},r.a.createElement(Y.a,{id:"category_label"},"Category"),r.a.createElement(U.a,{labelId:"category_label",id:"select_cat",multiple:!0,value:v,onChange:function(e){y(e.target.value)},input:r.a.createElement(Le.a,{id:"im_cat"}),renderValue:function(e){return r.a.createElement("div",{className:D.chips},e.map((function(e){return r.a.createElement(ze.a,{key:e,label:e})})))},MenuProps:Ve},re.map((function(e){return r.a.createElement(N.a,{key:e,value:e.toLowerCase()},e)}))))),r.a.createElement("div",{className:D.flexRow},r.a.createElement(V.a,{className:D.categoryForm},r.a.createElement(Y.a,{id:"payment_label"},"Payment Type"),r.a.createElement(U.a,{labelId:"payment_label",id:"select_payment",multiple:!0,value:O,onChange:function(e){w(e.target.value)},input:r.a.createElement(Le.a,{id:"in_pay"}),renderValue:function(e){return r.a.createElement("div",{className:D.chips},e.map((function(e){return r.a.createElement(ze.a,{key:e,label:e,className:D.chip})})))},MenuProps:Ve},r.a.createElement(N.a,{value:"credit"},"Credit"),r.a.createElement(N.a,{value:"debit"},"Debit"),r.a.createElement(N.a,{value:"cash"},"Cash")))),r.a.createElement("div",{className:D.flexRow},r.a.createElement(V.a,{className:D.categoryForm},r.a.createElement(Y.a,{id:"ex_label"},"Expense Type"),r.a.createElement(U.a,{labelId:"ex_label",id:"select_expayment",value:S,onChange:function(e){_(e.target.value)}},r.a.createElement(N.a,{value:"all"},"All"),r.a.createElement(N.a,{value:"expense"},"Expenses"),r.a.createElement(N.a,{value:"income"},"Income")))))),r.a.createElement(He.a,null),r.a.createElement(qe.a,null,r.a.createElement(Q.a,{size:"small"},"Clear"),r.a.createElement(Q.a,{size:"small",color:"primary",onClick:function(){var e="[";if(0!==v.length){e=e.concat('"',v[0],'"');for(var t=1;t<v.length;t++)e=e.concat(',"',v[t],'"')}e=e.concat("]");var n="[";if(0!==O.length){n=n.concat('"',O[0],'"');for(var r=1;r<O.length;r++)n=n.concat(',"',O[r],'"')}n=n.concat("]");var l="[]";"all"!==S&&(l="[".concat('"',S,'"]'));var i={category:e,payment_type:n,start:ne.formatDateAPI(s),end:ne.formatDateAPI(p),type:l};P(),a(i)}},"Filter"))))}var Ge=Object(g.a)((function(e){return{button:{margin:e.spacing(1),marginBottom:"10px"},loading:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}}));function Je(e){return{id:e._id,date:new Date(e.date),description:e.description,category:e.category,payment_type:e.payment_type,amount:e.amount,isExpense:"income"!==e.type}}function Ke(e){var a=1,t=e.user,n=r.a.useState(!1),l=Object(h.a)(n,2),i=l[0],c=l[1],o=r.a.useState(!0),s=Object(h.a)(o,2),m=s[0],u=s[1],d=r.a.useState([]),p=Object(h.a)(d,2),g=p[0],f=p[1],b=r.a.useState("/api/expense/multiple/".concat(t,"?page_number=",a,"&page_limit=",101,"&payment_types=[]&categories=[]&types=[]")),v=Object(h.a)(b,2),y=v[0],x=v[1];r.a.useEffect((function(){m&&se.a.get(y).then((function(e){f(e.data.map(Je)),u(!1)})).catch((function(e){console.log("Error: ",e.response)}))}),[m,t,a,y]);var j=function(){u(!0)},O=Ge();return r.a.createElement("main",null,r.a.createElement(E,null,"Expenses"),r.a.createElement(Q.a,{variant:"contained",color:"primary",className:O.button,startIcon:r.a.createElement(We.a,null),onClick:function(){c(!0)}},"Add Expense"),r.a.createElement(Ue,{onSubmit:function(e){u(!0),x("/api/expense/multiple/".concat(t,"?page_number=",a,"&page_limit=",101,"&categories=",e.category,"&payment_types=",e.payment_type,"&types=",e.type,"&start=",e.start,"&end=",e.end))},user:e.user}),r.a.createElement(ge,{user:e.user,open:i,onClose:function(e){c(!1)},onAdd:j}),m?r.a.createElement("div",{className:O.loading},r.a.createElement(ce.a,null)):r.a.createElement(Ie,{rows:g,user:e.user,loadMore:function(){a+=1,u(!0)},onAdd:j}))}var $e=t(83),Qe=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={ticker:"",qty:""},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"handlerFormSubmit",value:function(e){e.preventDefault(),this.props.onSearch(this.state.ticker,this.state.qty),this.setState({ticker:""}),this.setState({qty:""})}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"search_bar",onSubmit:this.handlerFormSubmit.bind(this)},r.a.createElement("input",{name:"ticker",type:"text",className:"search_ticker",value:this.state.ticker,onChange:function(a){return e.setState({ticker:a.target.value})},placeholder:"Enter ticker"}),r.a.createElement("input",{name:"qty",type:"text",className:"search_ticker",value:this.state.qty,onChange:function(a){return e.setState({qty:a.target.value})},placeholder:"qty"}),r.a.createElement("span",{className:"search_btn"},r.a.createElement("button",{type:"submit",className:"btn_search"},"+")))}}]),a}(n.Component),Xe=Object(M.a)({paper:{height:"70px",width:"70px"}})(F.a),Ze=Object(g.a)((function(){return{loading:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}}));function ea(e){var a=e.loading,t=Ze();return r.a.createElement(Xe,{disableBackdropClick:!0,open:a},r.a.createElement("div",{className:t.loading},r.a.createElement(ce.a,null)))}t(185);var aa=t(84),ta=t.n(aa),na=t(85),ra=t.n(na),la=t(130),ia=ra()(ta.a),ca=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={user_tickers:[],ticker_qty:{"":""},user_tickers_data:{data:[]},chart_x_val:[],chart_y_val:[],current_chart:"",adding_ticker:!1},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getTicker()}},{key:"getTicker",value:function(){var e=this;try{se.a.get("/api/investments/getTickers/"+this.props.user+"/").then((function(a){if("no tickers"!==a){var t=e,n=a.data[0].tickers[0];t.setState({user_tickers:a.data[0].tickers,current_chart:n}),e.getChartingDataSingleTicker(n),e.getChartingDataBatch()}}))}catch(a){console.error(a)}}},{key:"getQty",value:function(){var e=this;try{se.a.get("/api/investments/getQty/"+this.props.user+"/").then((function(a){"no tickers"!==a&&e.setState({ticker_qty:a.data[0].qty})}))}catch(a){console.error(a)}}},{key:"getChartingDataBatch",value:function(){var e=this,a=this.state.user_tickers.join(",");se.a.get("/api/investments/daily/batch/"+a+"/").then((function(a){var t=a.data;e.setState({user_tickers_data:t})}))}},{key:"getChartingDataSingleTicker",value:function(e){var a=this,t=[],n=[];try{se.a.get("/api/investments/daily/"+e+"/").then((function(e){var r=e.data;for(var l in r["Time Series (Daily)"])t.push(l),n.push(r["Time Series (Daily)"][l]["1. open"]);a.setState({chart_x_val:t,chart_y_val:n})}))}catch(r){console.error(r)}}},{key:"addTicker",value:function(e,a){var t=this,n=this;try{n.setState({adding_ticker:!0}),se.a.post("/api/investments/addticker/"+this.props.user+"/"+e+"/").then((function(r){var l=t.state.user_tickers.slice();l.push(e),se.a.post("/api/investments/addqty/"+t.props.user+"/"+e+"/"+a+"/").then((function(r){var l=Object($e.a)({},t.state.ticker_qty);l[e]=a,n.setState({ticker_qty:l}),console.log(t.state.ticker_qty)})),n.setState({user_tickers:l}),t.getChartingDataBatch(e),n.setState({adding_ticker:!1})}))}catch(r){console.error(r,"error adding ticker")}}},{key:"handleSearch",value:function(e,a){var t=e.toUpperCase();this.addTicker(t,a)}},{key:"render",value:function(){var e=this;return(r.a.createElement("div",{className:"flex-container"},r.a.createElement("div",{id:"chart_component"},r.a.createElement(ia,{data:[{x:this.state.chart_x_val,y:this.state.chart_y_val,type:"scatter",mode:"lines+markers",marker:{color:"blue"}}],style:{width:"100%",height:"100%"},layout:{autosize:!0,title:"Daily Time Series "+this.state.current_chart}})),r.a.createElement("div",{id:"ticker_component"},r.a.createElement(Qe,{onSearch:this.handleSearch.bind(this)}),r.a.createElement(ea,{loading:this.state.adding_ticker}),this.state.user_tickers_data.data.map((function(a){return r.a.createElement("div",{id:"ticker_container_"+a.symbol,className:"ticker_container",key:a.symbol},r.a.createElement("span",{className:"left"},a.symbol),r.a.createElement("span",{className:"qty"},e.state.ticker_qty[a.symbol]),r.a.createElement("span",{className:"right"},r.a.createElement(la.a,{value:a.price,displayType:"text",prefix:"$",thousandSeparator:!0,decimalprecision:2})))})))))}}]),a}(n.Component),oa=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"AboutPage"),"Made possible by React and component library Material ui;")}}]),a}(n.Component),sa=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("h1",null,"ERROR")}}]),a}(n.Component),ma=t(2),ua=Object(M.a)({paper:{padding:"10px"}})(F.a),da=Object(g.a)((function(){return{prev:{fontSize:"22px",padding:"3px",display:"flex"},prev_val:{fontWeight:"600",marginLeft:"10px"},prev_non:{color:"red",marginLeft:"10px"},root:{width:"100%",height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},rootItem:{padding:"5px",margin:"5px"}}}));function pa(e){var a=e.onClose,t=e.open,n=e.field,l=e.user,i=e.prevVal,c=r.a.useState(""),o=Object(h.a)(c,2),s=o[0],m=o[1],u=r.a.useState(!1),d=Object(h.a)(u,2),p=d[0],g=d[1],E=r.a.useState(!1),b=Object(h.a)(E,2),v=b[0],y=b[1],x=r.a.useState(""),j=Object(h.a)(x,2),O=j[0],w=j[1],C=da(),k=function(){m(""),y(!1),w(""),a()},S=p?r.a.createElement("div",{className:C.root},r.a.createElement(ce.a,null)):r.a.createElement("form",{className:C.root,onSubmit:function(){if(""===s)return y(!0),null;g(!0);var e={username:l};e[n]=s,se.a.patch("/api/user/profile/".concat(n),e).then((function(e){200===e.status&&(g(!1),k())})).catch((function(e){console.log("Error",e.response),w(e.response.data.error),g(!1)}))}},r.a.createElement("div",{className:Object(ma.a)(C.prev,C.rootItem)},"Current ",n,":"," ",i?r.a.createElement("div",{className:C.prev_val},i):r.a.createElement("div",{className:C.prev_non},"No Value")),r.a.createElement(R.a,{error:v,id:"newVal",label:"New ".concat(n),variant:"outlined",value:s,onChange:function(e){y(!1),m(e.target.value)},className:C.rootItem}),v?r.a.createElement(le.a,null,"Field is Required"):"",r.a.createElement(z.a,{container:!0,className:C.rootItem,style:{width:"99%"},direction:"row",justify:"center",alignContent:"center",spacing:2},r.a.createElement(z.a,{item:!0},r.a.createElement(Q.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(J.a,null),type:"submit"},"Save")),r.a.createElement(z.a,{item:!0},r.a.createElement(Q.a,{variant:"contained",color:"secondary",startIcon:r.a.createElement($.a,null),onClick:k},"Cancel"))));return r.a.createElement(ua,{disableBackdropClick:!0,onClose:a,maxWidth:"sm","aria-labelledby":"simple-dialog-title",fullWidth:!0,open:t},r.a.createElement(f.a,{component:"h1",variant:"h4",color:"primary",gutterBottom:!0},"Update ",n),S,r.a.createElement(ie.a,{mt:1},O))}var ha=Object(M.a)({paper:{margin:"20px",padding:"10px"}})(F.a),ga=Object(g.a)((function(){return{prev:{fontSize:"22px",padding:"3px",display:"flex"},prev_val:{fontWeight:"600",marginLeft:"10px"},prev_non:{color:"red",marginLeft:"10px"},root:{width:"100%",height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},rootItem:{padding:"5px",margin:"5px"}}}));function fa(e){var a=e.onClose,t=e.open,n=e.user,l=r.a.useState(""),i=Object(h.a)(l,2),c=i[0],o=i[1],s=r.a.useState(""),m=Object(h.a)(s,2),u=m[0],d=m[1],p=r.a.useState(""),g=Object(h.a)(p,2),E=g[0],b=g[1],v=r.a.useState(!1),y=Object(h.a)(v,2),x=y[0],j=y[1],O=r.a.useState(!1),w=Object(h.a)(O,2),C=w[0],k=w[1],S=r.a.useState(!1),N=Object(h.a)(S,2),_=N[0],D=N[1],P=r.a.useState(!1),I=Object(h.a)(P,2),T=I[0],W=I[1],A=r.a.useState(""),B=Object(h.a)(A,2),M=B[0],q=B[1],F=ga(),H=function(){o(""),q(""),k(!1),W(!1),D(!1),b(""),d(""),a()},L=x?r.a.createElement("div",{className:F.root},r.a.createElement(ce.a,null)):r.a.createElement("form",{className:F.root,onSubmit:function(){var e=!1;if(""===c&&(k(!0),e=!0),""===u&&(D(!0),e=!0),u!==E&&(W(!0),e=!0),e)return null;j(!0),se.a.patch("/api/user/profile/password",{username:n,old_password:c,new_password:u}).then((function(e){200===e.status&&(j(!1),H())})).catch((function(e){console.log(e.response),j(!1),q(e.response.data.error)}))}},r.a.createElement(R.a,{error:C,id:"oldPass",label:"Old Password",variant:"outlined",value:c,type:"password",onChange:function(e){k(!1),o(e.target.value)},className:F.rootItem}),C?r.a.createElement(le.a,null,"Field is Required"):"",r.a.createElement(R.a,{error:_,id:"newPass",label:"New Password",variant:"outlined",value:u,type:"password",onChange:function(e){D(!1),d(e.target.value)},className:F.rootItem}),_?r.a.createElement(le.a,null,"Field is Required"):"",r.a.createElement(R.a,{error:T,id:"confirmPass",label:"Confirm Password",variant:"outlined",value:E,type:"password",onChange:function(e){W(!1),b(e.target.value)},className:F.rootItem}),T?r.a.createElement(le.a,null,"Does not match new password"):"",r.a.createElement(z.a,{container:!0,className:F.rootItem,direction:"row",justify:"center",alignContent:"center",spacing:2,style:{width:"99%"}},r.a.createElement(z.a,{item:!0},r.a.createElement(Q.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(J.a,null),type:"submit"},"Save")),r.a.createElement(z.a,{item:!0},r.a.createElement(Q.a,{variant:"contained",color:"secondary",startIcon:r.a.createElement($.a,null),onClick:H},"Cancel"))));return r.a.createElement(ha,{disableBackdropClick:!0,onClose:a,maxWidth:"sm","aria-labelledby":"simple-dialog-title",fullWidth:!0,open:t},r.a.createElement(f.a,{component:"h1",variant:"h4",color:"primary",gutterBottom:!0},"Update ",e.field),L,r.a.createElement(ie.a,{mt:1},M))}t(94);var Ea=t(186),ba=Object(g.a)((function(){return{root:{flexGrow:1},profile:{maxWidth:"200px"},mainGrid:{height:"600px"},dataSection:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},flexRow:{display:"flex",flexDirection:"row",width:"80%",padding:"8px",borderBottom:"1px solid grey"},flexHeader:{fontWeight:"500",fontSize:"25px",color:"#799fd1",margin:"5px"},flexValue:{margin:"6px 5px",fontSize:"23px",flex:"2"},flexEdit:{marginTop:"auto",marginBottom:"5px",marginLeft:"auto",cursor:"pointer",color:"blue"},loading:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}}));function va(e){var a=e.user,t=r.a.useState(""),n=Object(h.a)(t,2),l=n[0],i=n[1],c=r.a.useState(null),o=Object(h.a)(c,2),s=o[0],m=o[1],u=r.a.useState(!1),d=Object(h.a)(u,2),p=d[0],g=d[1],b=r.a.useState(!1),v=Object(h.a)(b,2),y=v[0],x=v[1],j=r.a.useState(!1),O=Object(h.a)(j,2),w=O[0],k=O[1],S=r.a.useState(!0),N=Object(h.a)(S,2),_=N[0],D=N[1];r.a.useEffect((function(){_&&se.a.get("/api/user/info/".concat(a)).then((function(e){i(e.data.email),m(e.data.salary?e.data.salary:null),D(!1)})).catch((function(e){console.log(e),console.log(e.response)}))}),[_,a]);var P=function(){g(!1),x(!1),k(!1),D(!0)},I=ba();return r.a.createElement("div",{className:I.root},r.a.createElement(E,null,"Profile"),r.a.createElement(z.a,{container:!0,className:I.mainGrid,direction:"row",spacing:6},r.a.createElement(z.a,{item:!0},r.a.createElement(C.a,{className:I.profile,elevation:10},r.a.createElement("img",{className:I.profile,src:Ea,alt:"Profile Page"}))),r.a.createElement(z.a,{item:!0,xs:12,sm:!0,container:!0},_?r.a.createElement("div",{className:I.loading},r.a.createElement(ce.a,null)):r.a.createElement("div",{className:I.dataSection},r.a.createElement(f.a,{component:"h1",variant:"h4",color:"primary",gutterBottom:!0},"My Data"),r.a.createElement("div",{className:I.flexRow},r.a.createElement(Ce.a,{title:"User ID"},r.a.createElement("div",{className:I.flexHeader},"Username:")),r.a.createElement("div",{className:I.flexValue},a),r.a.createElement("div",{className:I.flexEdit})),r.a.createElement("div",{className:I.flexRow},r.a.createElement(Ce.a,{title:"Email address"},r.a.createElement("div",{className:I.flexHeader},"Email:")),r.a.createElement("div",{className:I.flexValue},l),r.a.createElement("div",{className:I.flexEdit,onClick:function(){g(!0)}},"Edit")),r.a.createElement("div",{className:I.flexRow},r.a.createElement(Ce.a,{title:"Monthly"},r.a.createElement("div",{className:I.flexHeader},"Salary:")),r.a.createElement("div",{className:I.flexValue},s?ne.formatToDollars(s):"Add you salary for better personalized tracking"),r.a.createElement("div",{className:I.flexEdit,onClick:function(){x(!0)}},"Edit")),r.a.createElement("div",{className:"link",style:{color:"blue"},onClick:function(){k(!0)}},"Change Password")))),r.a.createElement(pa,{onClose:P,open:p,user:a,field:"email",prevVal:l}),r.a.createElement(pa,{onClose:P,open:y,user:a,field:"salary",prevVal:s}),r.a.createElement(fa,{onClose:P,user:a,open:w}))}var ya=t(23),xa=t(8),ja=t(28),Oa=t(87),wa=t(265),Ca=t(248),ka=(t(118),t(131)),Sa=t.n(ka),Na=t(132),_a=t.n(Na),Da=t(133),Pa=t.n(Da),Ia=t(275),Ta=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={},t.handleClick=function(e){t.setState({anchorEl:e.currentTarget})},t.handleClose=function(){t.setState({anchorEl:null})},t.state={anchorEl:null},t.signOut=t.signOut.bind(Object(ya.a)(t)),t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"signOut",value:function(){se.a.post("/api/user/signout").then((function(e){200===e.status&&(document.location.href="/")})).catch((function(e){console.log("error",e)}))}},{key:"handleProfile",value:function(){window.location.href="/profile"}},{key:"render",value:function(){var e="",a="",t="",n=this.props.classes,l=Object(M.a)({root:{fontSize:16,padding:"6px 12px",lineHeight:1.5,backgroundColor:"#007bff",borderColor:"#007bff",marginLeft:"5px","&:hover":{backgroundColor:"#0069d9",borderColor:"#0062cc",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:"#0062cc",borderColor:"#005cbf"},"&:focus":{boxShadow:"0 0 0 0.2rem rgba(0,123,255,.5)"}}})(Q.a),i=r.a.createElement("div",null,r.a.createElement(Ia.a,{className:n.profileIcon,onClick:this.handleClick},r.a.createElement(Sa.a,null)),r.a.createElement(S.a,{id:"long-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleClose,PaperProps:{style:{maxHeight:216,width:200}}},r.a.createElement(ja.b,{to:"/profile",className:"no_text_decor link"},r.a.createElement(N.a,{key:"profile"},r.a.createElement(_.a,null,r.a.createElement(_a.a,{fontSize:"small"})),r.a.createElement(D.a,{primary:"Profile"}))),r.a.createElement(N.a,{key:"signout",onClick:this.signOut},r.a.createElement(_.a,null,r.a.createElement(Pa.a,{fontSize:"small"})),r.a.createElement(D.a,{primary:"Sign out"}))));return this.props.isauth?t=i:(e=r.a.createElement(ja.b,{className:"no_text_decor",to:"/login"},r.a.createElement(Q.a,{color:"inherit"},"Login")),a=r.a.createElement(ja.b,{to:"/signup",className:"no_text_decor"},r.a.createElement(l,{variant:"contained",color:"primary"},"Sign up"))),r.a.createElement(wa.a,{position:"fixed",className:Object(ma.a)(n.appBar)},r.a.createElement(Ca.a,{className:n.toolbar},r.a.createElement(f.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:n.title},r.a.createElement(ja.b,{to:"/",className:"no_text_decor link"},"FinTrack")),e,a,t))}}]),a}(n.Component),Wa=Object(M.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object($e.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(xa.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},profileIcon:{color:e.palette.getContrastText(Oa.a[700]),backgroundColor:Oa.a[700],cursor:"pointer"}}}),{withTheme:!0})(Ta),Aa=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"side_nav"},r.a.createElement(ja.b,{className:"menu_item",to:"/"},"Dashboard"),r.a.createElement(ja.b,{className:"menu_item",to:"/expenses"},"Expenses"),r.a.createElement(ja.b,{className:"menu_item",to:"/investments"},"Investments"),r.a.createElement(ja.b,{className:"menu_item",to:"/about"},"About"))}}]),a}(n.Component),Ba=t(266),Ma=t(267),qa=t(86),Fa=t.n(qa),Ra=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={},t.state={username:"",password:"",email:"",error:"",loading:!1},t.signup=t.signup.bind(Object(ya.a)(t)),t.handleChange=t.handleChange.bind(Object(ya.a)(t)),t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(xa.a)({},e.target.name,e.target.value))}},{key:"signup",value:function(e){var a=this;this.setState({loading:!0}),se.a.post("/api/user/signup",{email:this.state.email,username:this.state.username,password:this.state.password}).then((function(e){200===e.status&&(a.setState({loading:!1}),document.location.href="/")})).catch((function(e){console.log(e.response),a.setState({error:e.response.data.error})})),e.preventDefault()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(L.a,{component:"main",maxWidth:"xs"},r.a.createElement(Ba.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(Ia.a,{className:e.avatar},r.a.createElement(Fa.a,null)),r.a.createElement(f.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:e.form,onSubmit:this.signup},r.a.createElement(z.a,{container:!0,spacing:2},r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(R.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:this.handleChange,autoFocus:!0})),r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(R.a,{autoComplete:"fname",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",onChange:this.handleChange,label:"Username"})),r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(R.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:this.handleChange,autoComplete:"current-password"}))),r.a.createElement(Q.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,type:"submit"},"Sign Up"),r.a.createElement(z.a,{container:!0,justify:"flex-end"},r.a.createElement(z.a,{item:!0},r.a.createElement(Ma.a,{href:"/login",variant:"body2"},"Already have an account? Sign in")))),r.a.createElement(ie.a,{mt:1},this.state.error))),r.a.createElement(ea,{loading:this.state.loading}))}}]),a}(n.Component),Ha=Object(M.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}),{withTheme:!0})(Ra),za=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={},t.state={username:"",password:"",email:"",error:"",loading:!1},t.signup=t.signup.bind(Object(ya.a)(t)),t.handleChange=t.handleChange.bind(Object(ya.a)(t)),t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(xa.a)({},e.target.name,e.target.value))}},{key:"signup",value:function(e){var a=this;this.setState({loading:!0}),se.a.post("/api/user/signin",{username:this.state.username,password:this.state.password}).then((function(e){200===e.status&&(a.setState({loading:!1}),document.location.href="/")})).catch((function(e){console.log(e.response),a.setState({error:e.response.data.error})})),e.preventDefault()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(L.a,{component:"main",maxWidth:"xs"},r.a.createElement(Ba.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(Ia.a,{className:e.avatar},r.a.createElement(Fa.a,null)),r.a.createElement(f.a,{component:"h1",variant:"h5"},"Login"),r.a.createElement("form",{className:e.form,onSubmit:this.signup},r.a.createElement(z.a,{container:!0,spacing:2},r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(R.a,{autoComplete:"fname",name:"username",variant:"outlined",required:!0,fullWidth:!0,id:"username",onChange:this.handleChange,label:"Username"})),r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(R.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:this.handleChange,autoComplete:"current-password"}))),r.a.createElement(Q.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,type:"submit"},"Login"),r.a.createElement(z.a,{container:!0,justify:"flex-end"},r.a.createElement(z.a,{item:!0},r.a.createElement(Ma.a,{href:"/signup",variant:"body2"},"Don't have an account? Sign up")))),r.a.createElement(ie.a,{mt:1},this.state.error))),r.a.createElement(ea,{loading:this.state.loading}))}}]),a}(n.Component),La=Object(M.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}),{withTheme:!0})(za),Ya=(t(119),t(98)),Va=t.n(Ya),Ua=t(134),Ga=ra()(ta.a);function Ja(e){return r.a.createElement(f.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}var Ka=Object(g.a)((function(e){return{expenseText:{color:"red",fontSize:"35px"},incomeText:{color:"green",fontSize:"35px"},netIncomeText:{color:"black",fontWeight:"bold",fontSize:"35px"},mainFrame:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},paperClass:{width:"100%",height:"100%"},sumCol:{height:"100%"},graphCol:{flex:2},loading:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}}));function $a(e){var a=e.user,t=e.expanded,l=Object(n.useState)(0),i=Object(h.a)(l,2),c=i[0],o=i[1],s=Object(n.useState)(0),m=Object(h.a)(s,2),u=m[0],d=m[1],p=r.a.useState(""),g=Object(h.a)(p,2),f=g[0],E=g[1],b=r.a.useState([]),v=Object(h.a)(b,2),y=v[0],x=v[1],j=r.a.useState([]),O=Object(h.a)(j,2),w=O[0],C=O[1],k=r.a.useState(!0),S=Object(h.a)(k,2),N=S[0],_=S[1],D=Ka();return Object(n.useEffect)((function(){_(!0),function(){var e=Object(Ua.a)(Va.a.mark((function e(){var t,n,r,l;return Va.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:se.a.get("/api/user/info/".concat(a)).then((function(e){se.a.get("/api/expense/multiple-sum/".concat(a,"/",(new Date).getMonth()+1,'?page_number=1&page_limit=1000&payment_types=[]&types=["income"]&categories=[]')).then((function(a){d(e.data.salary+a.data.sum)})).catch((function(e){console.log(e.response)}))})).catch((function(e){console.log(e.response)})),t=[],n=0,r=0;case 4:if(!(r<re.length)){e.next=19;break}return e.prev=5,e.next=8,se.a.get("/api/expense/multiple-sum/".concat(a,"/",(new Date).getMonth()+1,'?page_number=1&page_limit=1000&payment_types=[]&types=[]&categories=["',re[r].toLowerCase(),'"]'));case 8:l=e.sent,n+=l.data.sum,t.push(l.data.sum),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0.response);case 16:r++,e.next=4;break;case 19:o(n),E(ne.getCurrentMonth()),x(t),C(t.map(ne.formatToDollars)),_(!1);case 24:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(){return e.apply(this,arguments)}}()()}),[a]),r.a.createElement("div",{className:D.paperClass},N?r.a.createElement("div",{className:D.loading},r.a.createElement(ce.a,null)):r.a.createElement("div",{className:D.mainFrame},r.a.createElement("div",{className:D.sumCol},r.a.createElement(Ja,null,"Expenses: ",f),r.a.createElement(Ce.a,{title:"Expenses",placement:"left"},r.a.createElement("div",{className:D.expenseText},ne.formatToDollars(c))),r.a.createElement(Ce.a,{title:"Income",placement:"left"},r.a.createElement("div",{className:D.incomeText},ne.formatToDollars(u))),r.a.createElement(Ce.a,{title:"Net Margin",placement:"left"},r.a.createElement("div",{className:D.netIncomeText},u>=c?"+":"-",ne.formatToDollars(Math.abs(u-c))))),t?r.a.createElement("div",{className:D.graphCol},r.a.createElement(Ga,{data:[{type:"pie",values:y,labels:re,text:w,textinfo:"label",hoverinfo:"none",hovertemplate:"<extra></extra>%{label} <br>Amount: %{text}"}],style:{width:"100%",height:"100%"}})):""))}var Qa=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(s.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"dash_item investment_dash"})}}]),a}(n.Component),Xa=Object(g.a)((function(e){return{root:{display:"flex"},title:{flexGrow:1},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4),display:"flex",flexDirection:"row",flexWrap:"wrap"},dash_item:{width:"350px",margin:"24px"},paper:{padding:"5px",display:"flex",flexDirection:"column",width:"100%",height:"100%"},fixedHeight:{height:"200px"},hover_paper:{cursor:"pointer !important",border:"1px solid black","&:hover":{border:"1px solid black",boxShadow:"10px 5px 5px grey"}},expandedDashItem:{height:"500px",width:"max(800px, 80%)",margin:"24px"}}}));function Za(e){var a=e.user,t=Xa(),n=r.a.useState(Object(ma.a)(t.fixedHeight,t.dash_item)),l=Object(h.a)(n,2),i=l[0],c=l[1],o=r.a.useState(Object(ma.a)(t.dash_item,t.fixedHeight)),s=Object(h.a)(o,2),m=s[0],u=s[1],d=r.a.useState(!1),p=Object(h.a)(d,2),g=p[0],f=p[1],b=r.a.useState(!1),v=Object(h.a)(b,2),y=v[0],x=v[1];return r.a.createElement("main",{className:t.content},r.a.createElement(E,null,"DashBoard"),r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(L.a,{maxWidth:"lg",className:t.container},r.a.createElement("div",{className:i},r.a.createElement(C.a,{className:Object(ma.a)(t.paper,t.hover_paper),onClick:function(){var e=g?Object(ma.a)(t.fixedHeight,t.dash_item):Object(ma.a)(t.expandedDashItem);c(e),f(!g)}},r.a.createElement($a,{user:a,expanded:g}))),r.a.createElement("div",{className:m},r.a.createElement(C.a,{className:Object(ma.a)(t.paper,t.hover_paper),onClick:function(){var e=y?Object(ma.a)(t.fixedHeight,t.dash_item):Object(ma.a)(t.expandedDashItem);u(e),x(!y)}},r.a.createElement(Qa,{user:a,expanded:y})))))}var et=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={},t.state={isauth:!1,user:null},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"checkAuth",value:function(){var e=this;se.a.get("/api/user/isauthenticated").then((function(a){e.state.isauth===a.data.isauth&&e.state.user===a.data.username||e.setState({isauth:a.data.isauth,user:a.data.username})})).catch((function(e){console.log("error",e)}))}},{key:"componentDidMount",value:function(){this.checkAuth()}},{key:"render",value:function(){var e=this.state.isauth?r.a.createElement(Aa,null):"",a=this.state.isauth?"App_top_just App_left_just":"App_top_just",t=r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/"},r.a.createElement(p,null)),r.a.createElement(d.b,{exact:!0,path:"/signup"},r.a.createElement(Ha,null)),r.a.createElement(d.b,{exact:!0,path:"/login"},r.a.createElement(La,null)),r.a.createElement(d.b,{exact:!0,path:"/error"},r.a.createElement(sa,null)));return this.state.isauth&&(t=r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/dashboard"},r.a.createElement(Za,{isauth:this.state.isauth,user:this.state.user})),r.a.createElement(d.b,{path:"/profile"},r.a.createElement(va,{isauth:this.state.isauth,user:this.state.user})),r.a.createElement(d.b,{path:"/expenses"},r.a.createElement(Ke,{isauth:this.state.isauth,user:this.state.user})),r.a.createElement(d.b,{path:"/investments"},r.a.createElement(ca,{isauth:this.state.isauth,user:this.state.user})),r.a.createElement(d.b,{path:"/about"},r.a.createElement(oa,{isauth:this.state.isauth,user:this.state.user})),r.a.createElement(d.b,{path:"/error"},r.a.createElement(sa,null)),r.a.createElement(d.a,{from:"/",to:"/dashboard"}))),r.a.createElement("div",null,r.a.createElement(Wa,{isauth:this.state.isauth,user:this.state.user}),e,r.a.createElement("div",{className:a},t))}}]),a}(n.Component);t(188);i.a.render(r.a.createElement(ja.a,null,r.a.createElement(et,null)),document.getElementById("root"))},94:function(e,a,t){}},[[156,1,2]]]);
//# sourceMappingURL=main.66054ce7.chunk.js.map